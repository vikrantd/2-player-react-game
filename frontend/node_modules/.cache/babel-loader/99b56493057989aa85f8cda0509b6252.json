{"ast":null,"code":"var _jsxFileName = \"/Users/vicky/workspace/my-app/src/App.js\";\nimport React from 'react';\nimport Pilot from './Pilot';\nimport Gun from './Gun';\nvar id;\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.frameUpdate = () => {\n      this.setState(prev => {\n        let p1 = prev.p1score;\n        let p2 = prev.p2score;\n        const speed = prev.key39 ? 8 : 5;\n        let pos = prev.pilotpos + speed;\n        const dec = prev.key40 ? 1 : 0;\n        let newdepth = prev.pilotdepth + dec;\n        let depth = newdepth >= 150 ? 150 : newdepth;\n        let newpilot = prev.pilotnum;\n        let soldarr = prev.soldiers.map(item => {\n          if (item[0]) {\n            let soldepth = item[2] + 4;\n\n            if (item[2] < 700 && soldepth >= 700) {\n              if (prev.round === 1) {\n                p1 += 2;\n              }\n\n              if (prev.round === 2) {\n                p2 += 2;\n              }\n            }\n\n            soldepth = soldepth >= 700 ? 700 : soldepth;\n            return [true, item[1], soldepth];\n          } else {\n            return item;\n          }\n        });\n        let gunangle = prev.gunangle;\n\n        if (prev.key65) {\n          gunangle -= 2;\n        }\n\n        if (prev.key68) {\n          gunangle += 2;\n        }\n\n        gunangle = gunangle >= 90 ? 90 : gunangle;\n        gunangle = gunangle <= -90 ? -90 : gunangle;\n        let newbullets = prev.bullets.map(item => [item[0] + 10 * item[2], item[1] - 10 * item[3], item[2], item[3]]);\n        newbullets = newbullets.filter(item => item[0] < 1550 && item[0] > 0 && item[1] > 0);\n        let newreleased = prev.soldiersReleased;\n\n        if (pos > 1550 && newpilot < 4) {\n          pos = 0;\n          depth = 10;\n          newpilot += 1;\n          newreleased = newpilot * 4;\n        }\n\n        if (pos > 1550 && newpilot === 4) {\n          if (prev.round === 1) {\n            let arr = [];\n\n            for (let k = 0; k < 20; k++) {\n              arr.push([false, 0, 10]);\n            }\n\n            alert('Change positions, round 1 Over');\n            return {\n              p1score: p1,\n              p2score: p2,\n              round: 2,\n              pilotpos: 0,\n              pilotdepth: 10,\n              pilotnum: 0,\n              key39: false,\n              key40: false,\n              key65: false,\n              key68: false,\n              key76: false,\n              soldiers: arr,\n              soldiersReleased: 0,\n              gunangle: 0,\n              bullets: []\n            };\n          }\n\n          if (prev.round === 2) {\n            const str = p1 > p2 ? 1 : 2;\n            alert('Player 1: ' + p1 + '    Player 2: ' + p2);\n            alert('Game Over!! Payer ' + str + ' wins! Plese Refresh');\n            clearInterval(id);\n          }\n        }\n\n        let c = 0;\n\n        for (let it = 0; it < soldarr.length; it++) {\n          if (soldarr[it][0] && soldarr[it][2] >= 700) {\n            c++;\n          }\n        }\n\n        if (c >= 4) {\n          if (prev.round === 1) {\n            p1 += 50;\n            let arr = [];\n\n            for (let k = 0; k < 20; k++) {\n              arr.push([false, 0, 10]);\n            }\n\n            alert('Change positions, round 1 Over');\n            return {\n              p1score: p1,\n              p2score: p2,\n              round: 2,\n              pilotpos: 0,\n              pilotdepth: 10,\n              pilotnum: 0,\n              key39: false,\n              key40: false,\n              key65: false,\n              key68: false,\n              key76: false,\n              soldiers: arr,\n              soldiersReleased: 0,\n              gunangle: 0,\n              bullets: []\n            };\n          }\n\n          if (prev.round === 2) {\n            p2 += 50;\n            const str = p1 > p2 ? 1 : 2;\n            alert('Player 1: ' + p1 + '    Player 2: ' + p2);\n            alert('Game Over!! Payer ' + str + ' wins! Plese Refresh');\n            clearInterval(id);\n          }\n        }\n\n        for (let i = 0; i < newbullets.length; i++) {\n          for (let j = 0; j < soldarr.length; j++) {\n            if (soldarr[j][0] && soldarr[j][2] < 700 && Math.abs(newbullets[i][0] - soldarr[j][1]) < 10 && Math.abs(newbullets[i][1] - soldarr[j][2]) < 10) {\n              soldarr[j][0] = false;\n\n              if (prev.round === 1) {\n                p2 += 1;\n              }\n\n              if (prev.round === 2) {\n                p1 += 1;\n              }\n            }\n          }\n\n          if (Math.abs(newbullets[i][0] - pos) < 30 && Math.abs(newbullets[i][1] - depth) < 10) {\n            if (prev.round === 1) {\n              p2 += 5;\n            }\n\n            if (prev.round === 2) {\n              p1 += 5;\n            }\n\n            newbullets.splice(i, 1);\n\n            if (newpilot === 4 && prev.round === 1) {\n              let arr = [];\n\n              for (let k = 0; k < 20; k++) {\n                arr.push([false, 0, 10]);\n              }\n\n              depth = -500;\n              alert('Change positions, round 1 Over');\n              return {\n                p1score: p1,\n                p2score: p2,\n                round: 2,\n                pilotpos: 0,\n                pilotdepth: 10,\n                pilotnum: 0,\n                key39: false,\n                key40: false,\n                key65: false,\n                key68: false,\n                key76: false,\n                soldiers: arr,\n                soldiersReleased: 0,\n                gunangle: 0,\n                bullets: []\n              };\n            }\n\n            if (newpilot === 4 && prev.round === 2) {\n              depth = -500;\n              const str = p1 > p2 ? 1 : 2;\n              alert('Player 1: ' + p1 + '    Player 2: ' + p2);\n              alert('Game Over!! Payer ' + str + ' wins! Plese Refresh');\n              clearInterval(id);\n            }\n\n            if (newpilot < 4) {\n              pos = 0;\n              depth = 10;\n              newpilot += 1;\n              newreleased = newpilot * 4;\n            }\n          }\n        }\n\n        return {\n          pilotpos: pos,\n          pilotdepth: depth,\n          pilotnum: newpilot,\n          soldiers: soldarr,\n          gunangle: gunangle,\n          bullets: newbullets,\n          p1score: p1,\n          p2score: p2,\n          soldiersReleased: newreleased\n        };\n      });\n    };\n\n    let _arr = [];\n\n    for (let i = 0; i < 20; i++) {\n      _arr.push([false, 0, 10]);\n    }\n\n    this.state = {\n      p1score: 0,\n      p2score: 0,\n      round: 1,\n      pilotpos: 0,\n      pilotdepth: 10,\n      pilotnum: 0,\n      key39: false,\n      key40: false,\n      key65: false,\n      key68: false,\n      key76: false,\n      soldiers: _arr,\n      soldiersReleased: 0,\n      gunangle: 0,\n      bullets: []\n    };\n  }\n\n  componentDidMount() {\n    id = setInterval(this.frameUpdate, 40);\n\n    document.onkeydown = e => {\n      if (e.keyCode === 39 || e.keyCode === 40 || e.keyCode === 68 || e.keyCode === 65) {\n        const keyname = 'key' + e.keyCode;\n        this.setState({\n          [keyname]: true\n        });\n      }\n    };\n\n    document.onkeyup = e => {\n      if (e.keyCode === 76 && this.state.soldiersReleased < this.state.pilotnum * 4 + 4) {\n        this.setState(prev => {\n          let newlist = prev.soldiers.map(item => item);\n          newlist[prev.soldiersReleased] = [true, prev.pilotpos, prev.pilotdepth];\n          return {\n            soldiersReleased: prev.soldiersReleased + 1,\n            soldiers: newlist\n          };\n        });\n      }\n\n      if (e.keyCode === 32) {\n        this.setState(prev => {\n          let bull = prev.bullets;\n          const deg = this.state.gunangle * Math.PI / 180;\n          bull.push([750, 700, Math.sin(deg), Math.cos(deg)]);\n          return {\n            bullets: bull\n          };\n        });\n      }\n\n      if (e.keyCode === 39 || e.keyCode === 40 || e.keyCode === 68 || e.keyCode === 65) {\n        const keyname = 'key' + e.keyCode;\n        this.setState({\n          [keyname]: false\n        });\n      }\n    };\n  }\n\n  render() {\n    let tempsoldierArr = this.state.soldiers.map(item => {\n      const elem = item[0] ? React.createElement(\"div\", {\n        className: \"soldier\",\n        key: item,\n        style: {\n          position: 'absolute',\n          top: 10 + item[2],\n          left: item[1]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }) : 'empty';\n      return elem;\n    });\n    const soldierArr = tempsoldierArr.filter(item => item !== 'empty');\n    const bulletarray = this.state.bullets.map(item => React.createElement(\"div\", {\n      className: \"bullet\",\n      key: item,\n      style: {\n        top: item[1] - 10 + this.state.gunangle / 10,\n        left: 15 + this.state.gunangle * 15 / 45 + item[0]\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      className: \"screen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Pilot, {\n      position: this.state.pilotpos,\n      depth: this.state.pilotdepth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), soldierArr, React.createElement(Gun, {\n      angle: this.state.gunangle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }), bulletarray);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vicky/workspace/my-app/src/App.js"],"names":["React","Pilot","Gun","id","App","Component","constructor","frameUpdate","setState","prev","p1","p1score","p2","p2score","speed","key39","pos","pilotpos","dec","key40","newdepth","pilotdepth","depth","newpilot","pilotnum","soldarr","soldiers","map","item","soldepth","round","gunangle","key65","key68","newbullets","bullets","filter","newreleased","soldiersReleased","arr","k","push","alert","key76","str","clearInterval","c","it","length","i","j","Math","abs","splice","state","componentDidMount","setInterval","document","onkeydown","e","keyCode","keyname","onkeyup","newlist","bull","deg","PI","sin","cos","render","tempsoldierArr","elem","position","top","left","soldierArr","bulletarray"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Pilot from './Pilot'\nimport Gun from './Gun'\n\nvar id\n\nclass App extends React.Component{\n  constructor(){\n    super()\n    let arr=[]\n    for(let i=0;i<20;i++){\n      arr.push([false, 0, 10])\n    }\n    this.state={\n      p1score: 0,\n      p2score: 0,\n      round: 1,\n      pilotpos: 0,\n      pilotdepth: 10,\n      pilotnum: 0,\n      key39: false,\n      key40: false,\n      key65: false,\n      key68: false,\n      key76: false,\n      soldiers: arr,\n      soldiersReleased: 0,\n      gunangle: 0,\n      bullets: []\n    }\n  }\n\n  frameUpdate = () => {\n    this.setState(prev => {\n      \n      let p1=prev.p1score\n      let p2=prev.p2score\n      const speed=prev.key39?8:5\n      let pos=prev.pilotpos+speed\n      const dec=prev.key40?1:0\n      let newdepth=prev.pilotdepth+dec\n      let depth=newdepth>=150?150:newdepth\n      let newpilot=prev.pilotnum\n      let soldarr=prev.soldiers.map(item => {\n        if(item[0])\n        {\n          let soldepth=item[2]+4\n          if(item[2]<700 && soldepth>=700)\n          {\n            if(prev.round===1)\n            {\n              p1+=2\n            }\n            if(prev.round===2)\n            {\n              p2+=2\n            }\n          }\n          soldepth=soldepth>=700?700:soldepth\n          return [true, item[1], soldepth]\n        }\n        else{\n          return item\n        }\n      })\n\n      let gunangle=prev.gunangle\n      if(prev.key65){\n        gunangle-=2\n      }\n      if(prev.key68){\n        gunangle+=2\n      }\n      gunangle=gunangle>=90?90:gunangle\n      gunangle=gunangle<=-90?-90:gunangle\n      \n      let newbullets=prev.bullets.map(item => [item[0]+10*item[2], item[1]-10*item[3], item[2], item[3]])\n      newbullets=newbullets.filter(item => item[0]<1550 && item[0]>0 && item[1]>0)\n      let newreleased=prev.soldiersReleased\n\n      if(pos>1550 && newpilot<4){\n        pos=0\n        depth=10\n        newpilot+=1\n        newreleased=newpilot*4\n      }\n\n      if(pos>1550 && newpilot===4){\n        if(prev.round===1)\n        {\n          let arr=[]\n    for(let k=0;k<20;k++){\n      arr.push([false, 0, 10])\n    }\n            alert('Change positions, round 1 Over')\n            return {p1score: p1,\n              p2score: p2,\n              round: 2,\n              pilotpos: 0,\n              pilotdepth: 10,\n              pilotnum: 0,\n              key39: false,\n              key40: false,\n              key65: false,\n              key68: false,\n              key76: false,\n              soldiers: arr,\n              soldiersReleased: 0,\n              gunangle: 0,\n              bullets: []} \n\n        }\n        if(prev.round===2)\n        {\n          const str=p1>p2?1:2\n            alert('Player 1: '+p1+'    Player 2: '+p2)\n            alert('Game Over!! Payer '+str+ ' wins! Plese Refresh')\n            clearInterval(id)\n        }\n        \n      }\n\n      let c=0\n      for(let it=0;it<soldarr.length; it++)\n      {\n        if(soldarr[it][0] && soldarr[it][2]>=700)\n        {\n          c++\n        }        \n      }\n      if(c>=4)\n      {\n        if(prev.round===1)\n        {\n          p1+=50\n          let arr=[]\n    for(let k=0;k<20;k++){\n      arr.push([false, 0, 10])\n    }\n            alert('Change positions, round 1 Over')\n            return {p1score: p1,\n              p2score: p2,\n              round: 2,\n              pilotpos: 0,\n              pilotdepth: 10,\n              pilotnum: 0,\n              key39: false,\n              key40: false,\n              key65: false,\n              key68: false,\n              key76: false,\n              soldiers: arr,\n              soldiersReleased: 0,\n              gunangle: 0,\n              bullets: []} \n\n        }\n        if(prev.round===2)\n        {\n          p2+=50\n          const str=p1>p2?1:2\n            alert('Player 1: '+p1+'    Player 2: '+p2)\n            alert('Game Over!! Payer '+str+ ' wins! Plese Refresh')\n            clearInterval(id)\n        }\n      }\n      \n      for(let i=0;i<newbullets.length;i++)\n      {\n\n        for(let j=0;j<soldarr.length;j++)\n        {\n          if(soldarr[j][0] && soldarr[j][2]<700 && Math.abs(newbullets[i][0]-soldarr[j][1])<10 && Math.abs(newbullets[i][1]-soldarr[j][2])<10)\n          {\n            soldarr[j][0]=false\n            if(prev.round===1)\n            {\n              p2+=1\n            }\n            if(prev.round===2)\n            {\n              p1+=1\n            }\n          }\n        }\n\n        if(Math.abs(newbullets[i][0]-pos)<30 && Math.abs(newbullets[i][1]-depth)<10)\n        {\n          if(prev.round===1)\n          {\n            p2+=5            \n          }\n          if(prev.round===2)\n          {\n            p1+=5            \n          }\n          newbullets.splice(i,1)          \n          if(newpilot===4 && prev.round===1){\n            let arr=[]\n    for(let k=0;k<20;k++){\n      arr.push([false, 0, 10])\n    }\n            depth=-500\n            alert('Change positions, round 1 Over')\n            return {p1score: p1,\n              p2score: p2,\n              round: 2,\n              pilotpos: 0,\n              pilotdepth: 10,\n              pilotnum: 0,\n              key39: false,\n              key40: false,\n              key65: false,\n              key68: false,\n              key76: false,\n              soldiers: arr,\n              soldiersReleased: 0,\n              gunangle: 0,\n              bullets: []}            \n          }\n          if(newpilot===4 && prev.round===2){\n            depth=-500\n            const str=p1>p2?1:2\n            alert('Player 1: '+p1+'    Player 2: '+p2)\n            alert('Game Over!! Payer '+str+ ' wins! Plese Refresh') \n            clearInterval(id)\n          }\n          if(newpilot<4){\n            pos=0\n            depth=10\n            newpilot+=1\n            newreleased=newpilot*4\n          }\n        }\n      }\n\n      return {pilotpos: pos, pilotdepth:depth, pilotnum: newpilot, soldiers: soldarr, gunangle:gunangle, bullets: newbullets, p1score: p1, p2score: p2, soldiersReleased: newreleased}\n    })\n  }\n\n  componentDidMount(){\n    id=setInterval(this.frameUpdate, 40)\n    document.onkeydown = (e) => {\n      if(e.keyCode===39 || e.keyCode===40 || e.keyCode===68 || e.keyCode===65){\n        const keyname='key'+e.keyCode\n        this.setState({[keyname]: true})\n      }\n    }\n    document.onkeyup = (e) => {\n      if(e.keyCode===76 && this.state.soldiersReleased<this.state.pilotnum*4+4)\n      {\n        this.setState(prev => {\n          let newlist=prev.soldiers.map(item => item)\n          newlist[prev.soldiersReleased]=[true, prev.pilotpos, prev.pilotdepth]\n          return {soldiersReleased: prev.soldiersReleased+1, soldiers: newlist}\n        })\n      }\n\n      if(e.keyCode===32)\n      {\n        this.setState(prev => {\n          let bull=prev.bullets\n          const deg=(this.state.gunangle*Math.PI)/180\n          bull.push([750, 700, Math.sin(deg), Math.cos(deg)])\n          return {bullets: bull}\n        })\n      }\n\n      if(e.keyCode===39 || e.keyCode===40 || e.keyCode===68 || e.keyCode===65){\n        const keyname='key'+e.keyCode\n        this.setState({[keyname]: false})\n      }\n    }\n  }\n\n  render(){\n    let tempsoldierArr=this.state.soldiers.map(item => {\n      const elem=item[0]?<div className='soldier' key={item} style={{position: 'absolute', top: 10 + item[2], left: item[1]}}></div>:'empty'\n      return elem\n    })\n    const soldierArr=tempsoldierArr.filter(item => item!=='empty')\n    const bulletarray=this.state.bullets.map(item => <div className='bullet' key={item} style={{top: item[1] - 10 + this.state.gunangle/10, left: 15 + (this.state.gunangle*15/45) + item[0]}}></div>)\n    return(\n      <div className='screen'>\n        <Pilot position={this.state.pilotpos} depth={this.state.pilotdepth} />\n        {soldierArr}\n        <Gun angle={this.state.gunangle} />\n        {bulletarray}\n\n      </div>\n    )\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}